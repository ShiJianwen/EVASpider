<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible"/>
<meta content="webkit" name="renderer"/>
<meta content="15317273575564615446375" property="qc:admins"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
<meta content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ" name="alexaVerifyID"/>
<meta content="app-id=958101793, app-argument=" name="apple-itunes-app"/>
<title>如何为 Git 设置代理？ - SegmentFault</title>
<meta content="最近从 Bitbucket经常访问不了，Github拖代码的速度也抽风，什么原因大家都知道。 所以，最好的方法就是给Git设置代理了，我希望能指定部分仓库走代理方式，不知该如何设置？补充另一种情况 本地环境下，本人设置..." name="description"/>
<meta content="git 代理" name="keywords"/>
<link href="/opensearch.xml" rel="search" title="SegmentFault" type="application/opensearchdescription+xml"/>
<link href="http://static.segmentfault.com/v-56810165/global/img/favicon.ico" rel="shortcut icon"/>
<link href="http://static.segmentfault.com/v-56810165/global/img/touch-icon.png" rel="apple-touch-icon"/>
<meta content="#009a61" name="msapplication-TileColor"/>
<meta content="http://static.segmentfault.com/v-56810165/global/img/touch-icon.png" name="msapplication-square150x150logo"/>
<meta id="SFUserId" name="userId" value=""/>
<meta id="SFUserRank" name="userRank" value=""/>
<link href="/feeds/questions" rel="alternate" title="SegmentFault 最新问题" type="application/atom+xml"/>
<link href="/feeds/blogs" rel="alternate" title="SegmentFault 最新文章" type="application/atom+xml"/>
<link href="http://static.segmentfault.com/v-56810165/global/css/global.css" rel="stylesheet"/>
<link href="http://static.segmentfault.com/v-56810165/qa/css/qa_all.css" rel="stylesheet"/>
<link href="http://static.segmentfault.com/v-56810165/global/css/responsive.css" rel="stylesheet"/>
<!--[if lt IE 9]>
    <link rel="stylesheet" href="http://static.segmentfault.com/v-56810165/global/css/ie.css"/>
    <script src="http://static.segmentfault.com/v-56810165/global/js/html5shiv.js"></script>
    <script src="http://static.segmentfault.com/v-56810165/global/js/respond.js"></script>
    <![endif]-->
<script src="http://static.segmentfault.com/v-56810165/global/js/debug.js"></script>
</head>
<body class="qa-question">
<!--[if lt IE 9]>
<div class="alert alert-danger topframe" role="alert">你的浏览器实在<strong>太太太太太太旧了</strong>，放学别走，升级完浏览器再说 <a target="_blank"
                                                                                                        class="alert-link"
                                                                                                        href="http://browsehappy.com">立即升级</a>
</div>
<![endif]-->
<div class="global-nav" xmlns="http://www.w3.org/1999/html">
<nav class="container nav">
<div class="dropdown m-menu">
<a aria-expanded="false" aria-haspopup="true" class="visible-xs-block m-toptools" data-toggle="dropdown" href="javascript:void(0);" id="dLabel">
<span class="glyphicon glyphicon-align-justify"></span>
<span class="mobile-menu__unreadpoint"></span>
</a>
<ul aria-labelledby="dLabel" class="dropdown-menu" role="menu">
<li class="mobile-menu__item"><a href="/questions/newest">问答</a></li>
<li class="mobile-menu__item"><a href="/blogs">文章</a></li>
<li class="mobile-menu__item"><a href="/notes">笔记</a></li>
<li class="mobile-menu__item"><a href="/jobs">职位</a></li>
<li class="mobile-menu__item"><a href="/events">活动</a></li>
<li class="mobile-menu__item"><a href="/tags">标签</a></li>
<li class="mobile-menu__item"><a href="/users">榜单</a></li>
<li class="mobile-menu__item"><a href="/sites">子站</a></li>
</ul>
</div>
<h1 class="logo"><a class="sf" href="/">SegmentFault</a></h1>
<a class="visible-xs-block pull-right m-ask m-toptools" href="/user/login"><span class="glyphicon glyphicon-log-in"></span></a>
<form action="/search" class="header-search pull-left hidden-sm hidden-xs">
<button class="btn btn-link">
<span class="sr-only">搜索</span>
<span class="glyphicon glyphicon-search"></span>
</button>
<input class="form-control" id="searchBox" name="q" placeholder="输入关键字搜索" type="text" value=""/>
</form>
<ul class="menu list-inline pull-left hidden-xs">
<li class="menu__item"><a href="/questions">问答</a></li>
<li class="menu__item"><a href="/blogs">文章</a></li>
<li class="menu__item"><a href="/notes">笔记</a></li>
<li class="menu__item"><a href="/jobs">职位</a></li>
<li class="menu__item dropdown hoverDropdown">
<a class="more dropdownBtn" data-toggle="dropdown" href="/sites">
                        ···<span class="sr-only">更多</span>
</a>
<ul class="dropdown-menu">
<li><a href="/events">活动</a></li>
<li><a href="/users">榜单</a></li>
<li><a href="/tags">标签</a></li>
<li><a href="/sites">子站</a></li>
<li><a href="/app">移动 App</a></li>
</ul>
</li>
</ul>
<ul class="opts pull-right list-inline hidden-xs">
<!-- <li class="opts__item">赶快加入吧 <a id="sfLogin" href="/user/login" class="SFLogin em ml10" onClick="_gaq.push(['_trackEvent', 'Button', 'Click', 'Login']);">立即登录</a></li> -->
<li class="opts__item message has-unread">
<a href="/tour" target="_blank">
<span class="sr-only">消息</span>
<span class="glyphicon glyphicon-envelope" id="messageCount"></span>
</a>
</li>
<li class="opts__item">
<a class="SFLogin em ml10" href="/user/login" onclick="_gaq.push(['_trackEvent', 'Button', 'Click', 'Login']);">注册 · 登录</a>
</li>
</ul>
</nav>
</div>
<div class="wrap">
<div class="post-topheader">
<div class="container">
<div class="row">
<div class="col-md-9">
<ol class="breadcrumb">
<li><a href="/questions/newest">问答</a></li>
<li class="active">问答详情</li>
</ol>
<h1 class="h3 title" data-id="1010000000118837" id="questionTitle"><a href="/q/1010000000118837">如何为 Git 设置代理？</a></h1>
<div class="author">
<a class="mr5" href="/u/vegeta"><img alt="Vegeta" class="avatar-24 mr10" src="http://sfault-avatar.b0.upaiyun.com/279/907/2799075575-1361_big64"/><strong>Vegeta</strong></a>
<strong class="text-black mr10">1.1k</strong>
                        2012年09月18日 提问
                                                    · <a href="/q/1010000000118837/revision">2012年09月18日 更新</a>
</div>
</div>
<div class="col-md-3">
<ul class="widget-action--ver list-unstyled">
<li>
<button class="btn btn-success btn-sm" data-do="follow" data-id="1010000000118837" data-placement="right" data-toggle="tooltip" data-type="question" id="sideFollow" title="关注后将获得更新提醒" type="button">关注
                                </button>
<strong>13</strong> 关注
                        </li>
<li>
<button class="btn btn-default btn-sm" data-id="1010000000118837" data-type="question" id="sideBookmark" type="button">收藏
                                </button>
<strong id="sideBookmarked">45</strong> 收藏，<strong class="no-stress">49.7k</strong> 浏览
                        </li>
</ul>
</div>
</div>
</div>
</div>
<!-- end .post-topheader -->
<div class="container mt30">
<div class="row">
<div class="col-xs-12 col-md-9 main">
<article class="widget-question__item">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1010000000118837" data-placement="top" data-toggle="tooltip" data-type="question" title="问题对人有帮助，内容完整，我也想知道答案" type="button">
<span class="sr-only">问题对人有帮助，内容完整，我也想知道答案</span>
</button>
<span class="count">2</span>
<button class="hate" data-do="hate" data-id="1010000000118837" data-placement="bottom" data-toggle="tooltip" data-type="question" title="问题没有实际价值，缺少关键内容，没有改进余地" type="button">
<span class="sr-only">问题没有实际价值，缺少关键内容，没有改进余地</span>
</button>
</div>
<!-- end .widget-vote -->
</div>
<div class="post-offset">
<div class="question fmt">
<p>最近从 Bitbucket经常访问不了，Github拖代码的速度也抽风，什么原因大家都知道。<br/>
所以，最好的方法就是给Git设置代理了，我希望能指定部分仓库走代理方式，不知该如何设置？</p><ins><em>补充另一种情况 </em></ins><p>本地环境下，本人设置了ssh代理，通过SOCKS走127.0.0.1:7070实现，如果在本地ssh代理开启的情况下，是不是又有另外的方法？</p>
</div>
<ul class="taglist--inline mb20">
<li class="tagPopup"><a class="tag" data-id="1040000000089459" data-img="http://sfault-avatar.b0.upaiyun.com/346/251/346251195-1040000000089459_medium40" data-original-title="git" data-placement="top" data-toggle="popover" href="/t/git">git</a></li>
<li class="tagPopup"><a class="tag" data-id="1040000000090152" data-img="" data-original-title="代理" data-placement="top" data-toggle="popover" href="/t/%E4%BB%A3%E7%90%86">代理</a></li>
</ul>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837">链接</a></li>
<li><a class="comments" data-id="1010000000118837" data-target="#comment-1010000000118837" href="javascript:void(0);">
                                            评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1010000000118837" id="comment-1010000000118837">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
<!-- end .post-offset -->
</article>
<div class="widget-answers">
<div class="btn-group pull-right" role="group">
<a class="btn btn-default btn-xs active" href="/q/1010000000118837#answers-title" id="sortby-rank">默认排序</a>
<a class="btn btn-default btn-xs" href="?sort=created#answers-title" id="sortby-created">时间排序</a>
</div>
<h2 class="title h4 mt30 mb20 post-title" id="answers-title">11 个回答</h2>
<article class="clearfix widget-answers__item accepted" id="a-1020000000132541">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000000132541" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">15</span>
<button class="hate" data-do="hate" data-id="1020000000132541" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
<div class="accepted-flag">采纳</div> </div>
<div class="post-offset ">
<a class="" href="/u/techlivezheng">
<img alt="" class="avatar-24" src="http://sfault-avatar.b0.upaiyun.com/317/938/3179383557-1030000000132524_big64"/>
</a>
<strong><a class="mr5" href="/u/techlivezheng">TechliveZheng</a> 1.8k
            </strong>
<span class="ml10 text-muted">
            2012年10月27日 回答
                            · <a href="/q/1010000000118837/a-1020000000132541/revision">2013年05月27日 更新</a>
</span>
<div class="answer fmt mt10">
<p>Git 目前支持的三种协议 <code>git://</code>、<code>ssh://</code> 和 <code>http://</code>，其代理配置各不相同：<code>core.gitproxy</code> 用于 <code>git://</code> 协议，<code>http.proxy</code> 用于 <code>http://</code> 协议，<code>ssh://</code> 协议的代理需要配置 ssh 的 <code>ProxyCommand</code> 参数。</p>
<h2>对于所有的协议全部使用 SSH 隧道进行代理</h2>
<h3>GIT 协议的配置</h3>
<p>建立 <code>/path/to/socks5proxywrapper</code> 文件，使用 <a href="https://bitbucket.org/gotoh/connect" rel="nofollow">https://bitbucket.org/gotoh/connect</a> 工具进行代理的转换，各发行版一般打包为 proxy-connect 或者 connect-proxy。</p>
<pre><code>#!/bin/sh
connect -S 127.0.0.1:7070 "$@"
</code></pre>
<p>配置 git</p>
<pre><code>[core]
        gitproxy = /path/to/socks5proxywrapper
</code></pre>
<p>或者</p>
<pre><code>export GIT_PROXY_COMMAND="/path/to/socks5proxywrapper"
</code></pre>
<h3>SSH 协议的配置</h3>
<p>建立 <code>/path/to/soks5proxyssh</code> 文件</p>
<pre><code>#!/bin/sh
ssh -o ProxyCommand="/path/to/socks5proxywrapper %h %p" "$@"
</code></pre>
<p>配置 git 使用该 wrapper</p>
<pre><code>export GIT_SSH="/path/to/socks5proxyssh“
</code></pre>
<p>当然也可以直接配置 <code>～/.ssh/config</code> 的 <code>ProxyCommand</code></p>
<h3>HTTP 协议的配置</h3>
<pre><code>[http]
        #这里是因为 Git 使用 libcurl 提供 http 支持
        proxy = socks5://127.0.0.1:7070
</code></pre>
<hr/>
<h2>所有协议全部使用 http 代理</h2>
<h3>在前一部分的基础上， <code>/path/to/socks5proxywrapper</code> 文件改为</h3>
<pre><code>#!/bin/sh
connect -H 192.168.1.100:8080 "$@"
</code></pre>
<h3>HTTP 协议配置</h3>
<pre><code>[http]
    proxy = http://192.168.1.100:8080
</code></pre>
<hr/>
<h2>针对域名启用代理</h2>
<p>gitproxy 参数提供 <code>* for *</code> 结构，具体看 <code>man git-config</code> 的 core.gitproxy 部分。</p>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000000132541">链接</a></li>
<li><a class="comments" data-id="1020000000132541" data-target="#comment-1020000000132541" href="javascript:void(0);">11
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000000132541" id="comment-1020000000132541">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000000118841">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000000118841" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">5</span>
<button class="hate" data-do="hate" data-id="1020000000118841" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/yanyaoer">
<img alt="" class="avatar-24" src="http://sfault-avatar.b0.upaiyun.com/169/808/1698086817-9_big64"/>
</a>
<strong><a class="mr5" href="/u/yanyaoer">yanyaoer</a> 1.7k
            </strong>
<span class="ml10 text-muted">
            2012年09月18日 回答
                    </span>
<div class="answer fmt mt10">
<p>可以为该仓库设置 http.proxy 或者 core.gitproxy</p><pre>git config http.proxy http://user:pwd@server.com:port</pre><pre>git config core.gitproxy '"proxy-command" for example.com'</pre><p><a href="http://www.kernel.org/pub/software/scm/git/docs/git-config.html#_example" rel="nofollow" target="_blank" title="http://www.kernel.org/pub/software/sc...">http://www.kernel.org/pub/software/sc...</a></p>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000000118841">链接</a></li>
<li><a class="comments" data-id="1020000000118841" data-target="#comment-1020000000118841" href="javascript:void(0);">2
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000000118841" id="comment-1020000000118841">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000000118879">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000000118879" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">1</span>
<button class="hate" data-do="hate" data-id="1020000000118879" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/liz">
<img alt="" class="avatar-24" src="http://sfault-avatar.b0.upaiyun.com/372/465/3724655442-2814_big64"/>
</a>
<strong><a class="mr5" href="/u/liz">liz</a> 232
            </strong>
<span class="ml10 text-muted">
            2012年09月18日 回答
                    </span>
<div class="answer fmt mt10">
<p>给git设置代理可以用yanyaoer的方法。<br/>
至于你说的ssh+pac+socks的代理，是跟yanyaoer说的git代理不冲突的。<br/>
socks代理是一个电路级的底层代理，而git config中设置的代理是应用级的。</p><p>举个例子，你的pac里设置了 github.com 走 socks 127.0.0.1:7070 ；而git config里有为github.com设置了走 proxy.server.com 的代理。<br/>
那么这个时候，你进行git操作，所有的网络请求走到socks那一层的时候，已经是proxy.server.com了，自然就不受影响，会直接出去。</p>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000000118879">链接</a></li>
<li><a class="comments" data-id="1020000000118879" data-target="#comment-1020000000118879" href="javascript:void(0);">
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000000118879" id="comment-1020000000118879">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000000118898">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000000118898" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">1</span>
<button class="hate" data-do="hate" data-id="1020000000118898" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/fanzeyi">
<img alt="" class="avatar-24" src="http://sfault-avatar.b0.upaiyun.com/657/960/657960637-1030000000091337_big64"/>
</a>
<strong><a class="mr5" href="/u/fanzeyi">饭团</a> 44
            </strong>
<span class="ml10 text-muted">
            2012年09月18日 回答
                    </span>
<div class="answer fmt mt10">
<p>tsocks - <a href="http://tsocks.sourceforge.net/" rel="nofollow" target="_blank" title="http://tsocks.sourceforge.net/">http://tsocks.sourceforge.net/</a></p><p><code>$ tsocks git clone git@github.com:xxx/xxx.git</code></p>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000000118898">链接</a></li>
<li><a class="comments" data-id="1020000000118898" data-target="#comment-1020000000118898" href="javascript:void(0);">
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000000118898" id="comment-1020000000118898">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000000121491">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000000121491" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">1</span>
<button class="hate" data-do="hate" data-id="1020000000121491" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/yegle">
<img alt="" class="avatar-24" src="http://static.segmentfault.com/v-56810165/global/img/user-64.png"/>
</a>
<strong><a class="mr5" href="/u/yegle">yegle</a> 2.3k
            </strong>
<span class="ml10 text-muted">
            2012年09月25日 回答
                    </span>
<div class="answer fmt mt10">
<p>从bitbucket克隆用ssh协议的话可以用所有ssh的代理使用方式</p><p>比如如果是http代理或socks代理，可以使用 <a href="http://bent.latency.net/bent/git/goto-san-connect-1.85/src/connect.html" rel="nofollow" target="_blank" title="http://bent.latency.net/bent/git/goto...">http://bent.latency.net/bent/git/goto...</a> 这个小程序做主机的<code>ProxyCommand</code></p><p>如果是你说的有某个中转服务器的话，可以用远程主机上的<code>nc</code>做<code>ProxyCommand</code> <a href="http://www.undeadly.org/cgi?action=article&amp;sid=20070925181947" rel="nofollow" target="_blank" title="http://www.undeadly.org/cgi?action=ar...">http://www.undeadly.org/cgi?action=ar...</a></p><p>关于你说的区分流量，可以在<code>~/.ssh/config</code>里进行区别设置。例如我之前用的配置</p><pre>Host bitbucket.org
    ProxyCommand ~/.ssh/connect -H 192.168.1.106:3128 %h 22</pre><p>这样<code>git clone ssh://git@bitbucket.org/XXXX</code>时会自动调用这里定义的<code>ProxyCommand</code></p>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000000121491">链接</a></li>
<li><a class="comments" data-id="1020000000121491" data-target="#comment-1020000000121491" href="javascript:void(0);">
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000000121491" id="comment-1020000000121491">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000000163471">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000000163471" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">1</span>
<button class="hate" data-do="hate" data-id="1020000000163471" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/fengmk2">
<img alt="" class="avatar-24" src="http://sfault-avatar.b0.upaiyun.com/279/006/27900685-1030000000137871_big64"/>
</a>
<strong><a class="mr5" href="/u/fengmk2">Python发烧友</a> 117
            </strong>
<span class="ml10 text-muted">
            2013年01月22日 回答
                            · <a href="/q/1010000000118837/a-1020000000163471/revision">2013年01月22日 更新</a>
</span>
<div class="answer fmt mt10">
<h4>github ssh proxy | github ssh 协议代理配置</h4><p>配置一个 <code>proxy-wrapper</code> 脚本</p><pre>bash
cat &gt; $HOME/bin/proxy-wrapper
#!/bin/bash
nc -x127.0.0.1:7080 -X5 $*</pre><p>给它增加一个可执行权限</p><pre>bash
$ chmod +x $HOME/bin/proxy-wrapper</pre><p>配置 <code>.ssh/config</code> , 对 github.com 设置一个代理命令</p><pre>bash
Host github github.com
    Hostname github.com
    User git
    ProxyCommand $HOME/bin/proxy-wrapper '%h %p'</pre><p><strong>必须全部走ssh协议</strong></p><pre>bash
$ git clone git@github.com:jjrdn/node-open.git</pre><p>git 协议请参考 [Using GIT through a SOCKS proxy](<a href="http://twopenguins.org/tips/git-through-proxy.php" rel="nofollow" target="_blank" title="http://twopenguins.org/tips/git-throu...">http://twopenguins.org/tips/git-throu...</a>).</p><h4>参考</h4><ol><li>[如何为 Git 设置代理？](<a href="http://segmentfault.com/q/1010000000118837" rel="nofollow" target="_blank" title="http://segmentfault.com/q/10100000001...">http://segmentfault.com/q/10100000001...</a>)</li><li>[Using GIT through a SOCKS proxy](<a href="http://twopenguins.org/tips/git-through-proxy.php" rel="nofollow" target="_blank" title="http://twopenguins.org/tips/git-throu...">http://twopenguins.org/tips/git-throu...</a>)</li><li>[免费的ssh](<a href="http://milnk.com/link/10645" rel="nofollow" target="_blank" title="http://milnk.com/link/10645">http://milnk.com/link/10645</a>)</li></ol>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000000163471">链接</a></li>
<li><a class="comments" data-id="1020000000163471" data-target="#comment-1020000000163471" href="javascript:void(0);">1
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000000163471" id="comment-1020000000163471">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000000499637">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000000499637" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">1</span>
<button class="hate" data-do="hate" data-id="1020000000499637" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/springlie">
<img alt="" class="avatar-24" src="http://sfault-avatar.b0.upaiyun.com/335/859/3358590371-1030000000368579_big64"/>
</a>
<strong><a class="mr5" href="/u/springlie">springlie</a> 18
            </strong>
<span class="ml10 text-muted">
            2014年05月09日 回答
                    </span>
<div class="answer fmt mt10">
<p>根据1L的答案写了一个<a href="https://github.com/springlie/smart_switcher" rel="nofollow">smart_switcher</a>，可以自动判别并设置各种代理，基于http代理配置，特别适合office有代理、家里无代理各种切换的情况，不过简化到超简单，只需设置你的网关IP和Port即可。<br/>
ReadMe在此。。。</p>
<h1>smart_switcher</h1>
<p>A auto-detect proxy switcher fot http, https, ftp, rsync, ssh, git protocols.</p>
<hr/>
<h2>Overview</h2>
<p>A <strong>smart</strong> proxy switcher wrapper, supports <strong>http</strong>, <strong>https</strong>, <strong>ftp</strong>, <strong>rsync</strong>, <strong>ssh</strong>(<a href="https://bitbucket.org/gotoh/connect/src/" rel="nofollow">connect</a> depanded), <strong>git</strong>(<a href="https://bitbucket.org/gotoh/connect/src/" rel="nofollow">connect</a> depanded) protocols. It can automatically detect your network environment and set proxy for you.</p>
<p>If you usually switch the network environment (maybe home with no-proxy and workplace with proxy), it may help you a lot.</p>
<p>Tested in <a href="http://www.zsh.org/" rel="nofollow">zsh</a> and <a href="http://www.gnu.org/software/bash/" rel="nofollow">bash</a>.</p>
<h2>Screenshot</h2>
<p><img data-src="https://raw.github.com/springlie/smart_switcher/master/screenshot.png"/></p>
<h2>Install</h2>
<p>Simply source it in your .zshrc, or any shell script resource file like this:</p>
<p><code>source /path/to/smart_switcher.sh</code></p>
<p><strong>and</strong>, make sure set your proxy_server/gateway in <code>smart_switcher.sh</code>.</p>
<h2>Usage</h2>
<p>Normally, it antomatically executes when you login in.</p>
<p><code>smart_switcher</code> supports <a href="https://github.com/springlie/cecho" rel="nofollow">cecho</a>, who will bring some colors for you.</p>
<p><a href="https://bitbucket.org/gotoh/connect/src/" rel="nofollow">connect</a> is required if proxy is supported in <strong>ssh</strong> and <strong>git</strong>. You can install it easily in path <code>/usr/bin/connect</code>.</p>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000000499637">链接</a></li>
<li><a class="comments" data-id="1020000000499637" data-target="#comment-1020000000499637" href="javascript:void(0);">6
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000000499637" id="comment-1020000000499637">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000002586563">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000002586563" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">0</span>
<button class="hate" data-do="hate" data-id="1020000002586563" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/bronzeee">
<img alt="" class="avatar-24" src="http://static.segmentfault.com/v-56810165/global/img/user-64.png"/>
</a>
<strong><a class="mr5" href="/u/bronzeee">张旭_450408</a> 23
            </strong>
<span class="ml10 text-muted">
            3月9日 回答
                            · <a href="/q/1010000000118837/a-1020000002586563/revision">3月9日 更新</a>
</span>
<div class="answer fmt mt10">
<p>git协议连接方式使用的是ssh同服务器通讯，设置ssh走sock5代理连接服务器的同时也解决了git的代理问题。</p>
<p>1.</p>
<pre><code>https://raw.githubusercontent.com/bronzeee/ssh_connect/master/connect.c
</code></pre>
<p>将上述代码使用gcc编译并保存在环境变量目录中同时改名connect<br/>
进入.ssh目录新建</p>
<p>文件config</p>
<pre><code>Host *
    User git
    ProxyCommand $HOME/.ssh/proxy-wrapper '%h %p'
</code></pre>
<p>文件 proxy-wrapper</p>
<pre><code>#!/bin/bash
~/connect.exe -S http://IP:PORT $@
</code></pre>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000002586563">链接</a></li>
<li><a class="comments" data-id="1020000002586563" data-target="#comment-1020000002586563" href="javascript:void(0);">
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000002586563" id="comment-1020000002586563">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000003033220">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000003033220" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">0</span>
<button class="hate" data-do="hate" data-id="1020000003033220" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/robinqu">
<img alt="" class="avatar-24" src="http://sfault-avatar.b0.upaiyun.com/411/407/4114074810-1030000000375384_big64"/>
</a>
<strong><a class="mr5" href="/u/robinqu">RobinQu</a> 385
            </strong>
<span class="ml10 text-muted">
            7月29日 回答
                    </span>
<div class="answer fmt mt10">
<p>上面有不少答案了。假设用程序在无状态、无工作目录的情况下运行git指令，利用<code>-c</code>参数可以在运行时重载git配置，包括关键的<code>http.proxy</code></p>
<p>例如：</p>
<pre><code>git clone -c http.proxy=http://192.168.117.131:8888  http://github.com/me/test1.git
</code></pre>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000003033220">链接</a></li>
<li><a class="comments" data-id="1020000003033220" data-target="#comment-1020000003033220" href="javascript:void(0);">
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000003033220" id="comment-1020000003033220">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000003058193">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000003058193" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">0</span>
<button class="hate" data-do="hate" data-id="1020000003058193" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/zhichyu">
<img alt="" class="avatar-24" src="http://static.segmentfault.com/v-56810165/global/img/user-64.png"/>
</a>
<strong><a class="mr5" href="/u/zhichyu">香山红叶</a> 1
            </strong>
<span class="ml10 text-muted">
            8月6日 回答
                            · <a href="/q/1010000000118837/a-1020000003058193/revision">8月6日 更新</a>
</span>
<div class="answer fmt mt10">
<p>最优方案是proxychains(<a href="https://github.com/haad/proxychains" rel="nofollow">https://github.com/haad/proxychains</a>)。<br/>
下面命令运行程序program<br/>
$ proxychains program<br/>
它强制给定程序发起的TCP连接通过事先配置的代理。至少在Linux上，它比“SOCKS代理转为HTTP代理”用途更广泛。两者互为补充，可以涵盖所有需要代理的情景。<br/>
以Git为例，没有proxychains的话，就必须为每个协议(http, git, ssh)按照git文档的要求分别设置代理，过程复杂且不稳定。有了proxychains，这些都可以忘掉了！</p>
<p>$ sudo apt-get install proxychains<br/>
打开/etc/proxychains.conf，注释掉下面这行（disable远程DNS解析。有DNS污染风险。下文讲如何解决enable不work的问题。）<br/>
proxy_dns<br/>
最后添加如下行：<br/>
socks5  134.64.206.85 1081<br/>
$ proxychains git clone git://github.com/yuzhichang/cppdep<br/>
$ sudo proxychains apt-get update<br/>
这里134.64.206.85:1081是SOCKS代理位置。</p>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000003058193">链接</a></li>
<li><a class="comments" data-id="1020000003058193" data-target="#comment-1020000003058193" href="javascript:void(0);">
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000003058193" id="comment-1020000003058193">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<article class="clearfix widget-answers__item" id="a-1020000004039755">
<div class="post-col">
<div class="widget-vote">
<button class="like" data-do="like" data-id="1020000004039755" data-placement="top" data-toggle="tooltip" data-type="answer" title="答案对人有帮助，有参考价值" type="button">
<span class="sr-only">答案对人有帮助，有参考价值</span>
</button>
<span class="count">0</span>
<button class="hate" data-do="hate" data-id="1020000004039755" data-placement="bottom" data-toggle="tooltip" data-type="answer" title="答案没帮助，是错误的答案，答非所问" type="button">
<span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
</button>
</div>
</div>
<div class="post-offset ">
<a class="" href="/u/jujis006">
<img alt="" class="avatar-24" src="http://static.segmentfault.com/v-56810165/global/img/user-64.png"/>
</a>
<strong><a class="mr5" href="/u/jujis006">jujis006</a> 1
            </strong>
<span class="ml10 text-muted">
            11月24日 回答
                    </span>
<div class="answer fmt mt10">
<p>我想你可能是问的是这个问题。</p>
<p>问题：<br/>E:\PDFium&gt;git clone <a href="https://pdfium.googlesource.com/pdfium">https://pdfium.googlesource.com/pdfium</a><br/>Cloning into 'pdfium'...<br/>fatal: unable to access '<a href="https://pdfium.googlesource.com/pdfium/">https://pdfium.googlesource.com/pdfium/</a>': Failed connect to pdfium.googlesource.com:443; No error</p>
<p>解决：<br/>git config --global http.proxy <a href="http://proxy.com">http://proxy.com</a>:1234</p>
<p>git config --global https.proxy <a href="http://proxy.com">http://proxy.com</a>:1234<br/>git config --global http.sslverify false<br/>转自：<a href="http://ricksu.blog.163.com/blog/static/18906433820125294929508/">http://ricksu.blog.163.com/blog/static/18906433820125294929508/</a></p>
<p>参考：<a href="http://infong.net/config-proxy-for-git/">http://infong.net/config-proxy-for-git/</a></p>
<p>我使用本机上的小软件翻墙，所以设置为</p>
<p>E:\PDFium&gt;git config --global http.proxy <a href="http://127.0.0.1">http://127.0.0.1</a>:8580<br/>E:\PDFium&gt;git config --global https.proxy <a href="https://127.0.0.1">https://127.0.0.1</a>:8580<br/>E:\PDFium&gt;git config</p>
<p>--global http.SSLVERIFY false</p>
</div>
<div class="post-opt">
<ul class="list-inline mb0">
<li><a href="/q/1010000000118837/a-1020000004039755">链接</a></li>
<li><a class="comments" data-id="1020000004039755" data-target="#comment-1020000004039755" href="javascript:void(0);">
                                评论</a></li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">更多<b class="caret"></b></a>
<ul class="dropdown-menu dropdown-menu-left">
</ul>
</li>
</ul>
</div>
<div class="widget-comments hidden" data-id="1020000004039755" id="comment-1020000004039755">
<div class="widget-comments__form row">
<div class="col-md-12">
                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                </div>
</div><!-- /.widget-comments__form -->
</div><!-- /.widget-comments -->
</div>
</article><!-- /article -->
<div class="text-center">
</div>
</div><!-- /.widget-answers -->
<h4>撰写答案</h4>
<input id="draftId" type="hidden" value=""/>
<input id="questionId" type="hidden" value="1010000000118837"/>
<form action="/question/1010000000118837/answers/add" class="editor-wrap" method="post">
<div class="editor" id="questionText">
<textarea class="form-control" id="answerEditor" name="text" placeholder="撰写答案..." rows="4"></textarea>
</div>
<div class="hide mt15 clearfix" id="answerSubmit">
<div class="checkbox pull-left">
<label><input class="" id="shareToWeibo" type="checkbox"/>
                            同步到新浪微博</label>
</div>
<div class="pull-right">
<span class="hidden text-muted" id="editorStatus">
</span>
<a class="mr10 hidden" href="javascript:void(0);" id="dropIt">
                            [舍弃]
                        </a>
<button class="btn btn-lg btn-primary ml20" data-id="1010000000118837" id="answerIt" type="submit">提交回答
                        </button>
</div>
</div>
</form>
</div>
<!-- /.main -->
<div class="col-xs-12 col-md-3 side">
<div class="sfad-sidebar">
<div class="sfad-item" data-adn="ad-981179" id="adid-981179">
<button aria-hidden="true" class="close" type="button">×</button>
</div>
</div>
<div class="widget-box no-border">
<h2 class="h4 widget-box__title">相似问题</h2>
<ul class="widget-links list-unstyled">
<li class="widget-links__item"><a href="/q/1010000000420475" title="Git : 代理設置">Git : 代理設置</a>
<small class="text-muted">
                                                    6 回答
                                                                             |                             已解决
                                            </small>
</li>
<li class="widget-links__item"><a href="/q/1010000000666945" title="Windows 下 Git Bash 无法通过代理服务器连接远程仓库，求解决办法">Windows 下 Git Bash 无法通过代理服务器连接远程仓库，求解决办法</a>
</li>
<li class="widget-links__item"><a href="/q/1010000002543160" title="ubuntu如何查看本地的代理IP和端口？">ubuntu如何查看本地的代理IP和端口？</a>
<small class="text-muted">
                                                    1 回答
                                                                    </small>
</li>
<li class="widget-links__item"><a href="/q/1010000003001453" title="如何为Mac终端设置代理">如何为Mac终端设置代理</a>
<small class="text-muted">
                                                    2 回答
                                                                    </small>
</li>
<li class="widget-links__item"><a href="/q/1010000002540524" title="Centos 内网代理上网的问题.">Centos 内网代理上网的问题.</a>
<small class="text-muted">
                                                    1 回答
                                                                    </small>
</li>
<li class="widget-links__item"><a href="/q/1010000003034698" title="nginx反向代理tomcat时资源文件处理问题">nginx反向代理tomcat时资源文件处理问题</a>
<small class="text-muted">
                                                    2 回答
                                                                    </small>
</li>
<li class="widget-links__item"><a href="/q/1010000002922035" title="安装prezto 出错">安装prezto 出错</a>
<small class="text-muted">
                                                    1 回答
                                                                             |                             已解决
                                            </small>
</li>
<li class="widget-links__item"><a href="/q/1010000002472112" title="bower install 速度很慢，怎么破？">bower install 速度很慢，怎么破？</a>
<small class="text-muted">
                                                    3 回答
                                                                    </small>
</li>
<li class="widget-links__item"><a href="/q/1010000002601897" title="什么是正向代理,反向代理">什么是正向代理,反向代理</a>
<small class="text-muted">
                                                    2 回答
                                                                             |                             已解决
                                            </small>
</li>
<li class="widget-links__item"><a href="/q/1010000000411124" title="有没有办法搭建自己的镜像服务器？">有没有办法搭建自己的镜像服务器？</a>
<small class="text-muted">
                                                    2 回答
                                                                    </small>
</li>
</ul>
</div>
<div class="widget-share__full" data-shorturl="http://sfau.lt/bNE4T" data-text="如何为 Git 设置代理？" data-url="http://segmentfault.com/q/1010000000118837"></div>
</div><!-- /.side -->
</div>
</div>
</div>
<div class="modal" id="shareToWeiboModal">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button class="close" data-dismiss="modal" type="button">
<span aria-hidden="true">×</span><span class="sr-only">Close</span>
</button>
<h4 class="modal-title">分享</h4>
</div>
<div class="modal-body">
<p class="sfModal-content">
                    分享到微博？
                </p>
</div>
<div class="modal-footer ">
<button class="btn btn-default dont-likeweibo" data-dismiss="modal" type="button">取消并且不再弹出</button>
<a class="btn btn-primary done-btn" href="" id="shareLink" onclick="$('#shareToWeiboModal').modal('hide')" target="_blank">分享</a>
</div>
</div>
</div>
</div>
<div class="hidden widget-register widget-welcome-question mt20 hidden-xs widget-welcome widget-register-slideUp">
<div class="container">
<div class="row">
<div class="col-sm-12">
<h2 class="title h4">与我们一起探索更多的未知</h2>
<p>专业的开发者技术社区，为用户提供多样化的线上知识交流，丰富的线下活动及给力的工作机会</p>
</div>
<form action="/api/user/register/fast" method="post">
<div class="col-sm-5">
<div class="form-group mb0">
<input class="form-control" name="mail" placeholder="邮箱地址" required="" type="text"/>
</div>
</div>
<div class="col-sm-3">
<button class="btn btn-primary btn-block" type="submit">加入只需一步</button>
</div>
<div class="col-sm-10 mt10 captcha-part" style="display:none;">
<div class="row">
<div class="col-sm-4 pr0">
<input class="form-control" disabled="" name="captcha" placeholder="请输入验证码" required="" type="text"/>
</div>
<div class="col-sm-4 pr0">
<a href="javascript:void(0)"><img height="35" src=""/></a>
</div>
</div>
</div>
</form>
<a class="close" href="javascript:void(0);"><span>×</span></a>
</div>
</div>
</div>
<div class="modal widget-911" id="delete-modal">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button class="close" data-dismiss="modal" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
<h4 class="modal-title radio-del question-close-only">关闭<span class="type-911">问题</span>（请谨慎操作）</h4>
<h4 class="modal-title radio-del question-delete-only">删除<span class="type-911">问题</span>（请谨慎操作）</h4>
<h4 class="modal-title radio-del answer-delete-only">删除<span class="type-911">回答</span>（请谨慎操作）</h4>
<h4 class="modal-title radio-del answer-ignore-only">忽略<span class="type-911">回答</span></h4>
</div>
<div class="modal-body">
<p>
<strong class="required radio-del question-close-only">关闭理由：</strong>
<strong class="required radio-del question-delete-only answer-delete-only">删除理由：</strong>
<strong class="required radio-del answer-ignore-only">忽略理由：</strong>
</p>
<div id="reportDescription">
<div class="radio-del radio all">
<label>
<input name="descRadio" type="radio" value="推广（招聘、广告、SEO 等）方面的内容"/>
                            推广（招聘、广告、SEO 等）方面的内容
                        </label>
</div>
<div class="radio-del radio question-close-only">
<label>
<input name="descRadio" type="radio" value="与已有问题重复"/>
                            与已有问题重复（请编辑该提问指向已有相同问题）
                        </label>
</div>
<div class="radio-del radio answer-ignore-only">
<label>
<input name="descRadio" type="radio" value="答非所问，不符合答题要求"/>
                            答非所问，不符合答题要求
                        </label>
</div>
<div class="radio-del radio answer-ignore-only">
<label>
<input name="descRadio" type="radio" value="宜作评论而非答案"/>
                            宜作评论而非答案
                        </label>
</div>
<div class="radio-del radio all">
<label>
<input name="descRadio" type="radio" value="带有人身攻击、辱骂、仇恨等违反条款的内容"/>
                            带有人身攻击、辱骂、仇恨等违反条款的内容
                        </label>
</div>
<div class="radio-del radio question-close-only">
<label>
<input name="descRadio" type="radio" value="无法获得确切结果的问题"/>
                            无法获得确切结果的问题
                        </label>
</div>
<div class="radio-del radio question-close-only">
<label>
<input name="descRadio" type="radio" value="非开发直接相关的问题"/>
                            非开发直接相关的问题
                        </label>
</div>
<div class="radio-del radio question-close-only question-delete-only">
<label>
<input name="descRadio" type="radio" value="非技术提问的讨论型问题"/>
                            非技术提问的讨论型问题
                        </label>
</div>
<div class="radio-del radio all btwRadio">
<label>
<input name="descRadio" type="radio" value=""/>
                            其他原因（请补充说明）
                        </label>
</div>
<div class="btw" style="display:none;">
<p class="mt20"><strong>补充说明：</strong></p>
<textarea class="form-control" id="deleteDesc" name="description" rows="3"></textarea>
</div>
</div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
<button class="btn btn-danger" id="submit-delete" type="button">提交</button>
</div>
</div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal widget-911" id="911">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button class="close" data-dismiss="modal" type="button">
<span aria-hidden="true">×</span>
<span class="sr-only">Close</span>
</button>
<h4 class="modal-title">举报<span data-model="type"></span></h4>
</div>
<div class="modal-body">
<form id="reportForm">
<!-- 后台返回信息 -->
<p class="alert alert-warning" data-model="returnMsg"></p>
<div data-role="base">
<p>
<strong class="required">我要举报该<span data-model="type"></span>，理由是：</strong>
</p>
<ul class="list-unstyled" data-model="list"></ul>
</div>
</form>
</div>
<div class="modal-footer">
<button class="btn btn-default pull-left" data-role="back" style="display:none" type="button">返回重选</button>
<button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
<button class="btn btn-primary" data-role="submit" type="button">提交</button>
</div>
</div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<footer id="footer">
<div class="container">
<div class="row hidden-xs">
<dl class="col-sm-2 site-link">
<dt>网站相关</dt>
<dd><a href="/about">关于我们</a></dd>
<dd><a href="/tos">服务条款</a></dd>
<dd><a href="/faq">帮助中心</a></dd>
<dd><a href="/repu">声望与权限</a></dd>
<dd><a href="/markdown">编辑器语法</a></dd>
<dd><a href="//weekly.segmentfault.com/">每周精选</a></dd>
<dd><a href="/app">App 下载</a></dd>
</dl>
<dl class="col-sm-2 site-link">
<dt>联系合作</dt>
<dd><a href="/contact">联系我们</a></dd>
<dd><a href="/hiring">加入我们</a></dd>
<dd><a href="/link">合作伙伴</a></dd>
<dd><a href="/press">媒体报道</a></dd>
<dd><a href="/0x">建议反馈</a></dd>
<dd><a href="http://pan.baidu.com/share/link?shareid=604288&amp;uk=839272106" target="_blank">Logo 下载</a>
</dd>
</dl>
<dl class="col-sm-2 site-link">
<dt>常用链接</dt>
<dd><a href="https://chrome.google.com/webstore/detail/segmentfault-%E7%AC%94%E8%AE%B0/pjklfdmleagfaekibdccmhlhellefcfo" target="_blank">笔记插件: Chrome</a></dd>
<dd><a href="https://addons.mozilla.org/zh-CN/firefox/addon/sf-note-ext/" target="_blank">笔记插件: Firefox</a></dd>
<dd><a href="//mirrors.segmentfault.com/" target="_blank">文档镜像</a></dd>
<dd>订阅：<a href="/feeds">问答</a> / <a href="/feeds/blogs">文章</a></dd>
<dd><a href="/hackathon">黑客马拉松</a></dd>
<dd><a href="/giveaways" target="_blank">开发者福利</a></dd>
<!--             <dd><a href="http://zs.segmentfault.com/" target="_blank">一起涨姿势</a></dd> -->
<dd><a href="https://namebeta.com/" target="_blank">域名搜索注册</a></dd>
</dl>
<dl class="col-sm-2 site-link">
<dt>关注我们</dt>
<dd><a href="https://github.com/SegmentFault" target="_blank">GitHub</a></dd>
<dd><a href="https://twitter.com/segment_fault" target="_blank">Twitter</a></dd>
<!-- <dd><a href="http://page.renren.com/699146294" target="_blank">人人网</a></dd> -->
<dd><a href="https://www.linkedin.com/company/segmentfault" target="_blank">LinkedIn</a></dd>
<dd><a href="http://weibo.com/segmentfault" target="_blank">新浪微博</a></dd>
<dd><a href="http://i.youku.com/segmentfault" target="_blank">优酷主页</a></dd>
<dd><a href="/blog/segmentfault" target="_blank">开发日志</a></dd>
</dl>
<dl class="col-sm-4 site-link" id="license">
<dt>内容许可</dt>
<dd>除特别说明外，用户内容均采用 <a href="http://creativecommons.org/licenses/by-sa/3.0/cn/" rel="license" target="_blank">知识共享署名-相同方式共享 3.0
                        中国大陆许可协议</a> 进行许可
                </dd>
<dd>本站由 <a href="http://qingcloud.com/" target="_blank">青云 QingCloud</a> 提供云计算服务<br/><a href="https://www.upyun.com/?utm_source=segmentfault&amp;utm_medium=link&amp;utm_campaign=upyun&amp;md=segmentfault" target="_blank">又拍云</a>
                    提供 CDN 存储服务
                </dd>
<dd>
<a href="http://www.anquan.org" key="55e59bd4efbfb0241247d4e4" logo_size="124x47" logo_type="realname">
<script src="//static.anquan.org/static/outer/js/aq_auth.js"></script>
</a>
<!-- Begin DigiCert site seal HTML and JavaScript -->
<div data-language="en" id="DigiCertClickID_2bMgZTfe" style="float: left; margin-right: 10px"></div>
<script type="text/javascript">
                        var __dcid = __dcid || [];
                        __dcid.push(["DigiCertClickID_2bMgZTfe", "3", "s", "black", "2bMgZTfe"]);
                        (function () {
                            var cid   = document.createElement("script");
                            cid.async = true;
                            cid.src   = "//seal.digicert.com/seals/cascade/seal.min.js";
                            var s     = document.getElementsByTagName("script");
                            var ls    = s[(s.length - 1)];
                            ls.parentNode.insertBefore(cid, ls.nextSibling);
                        }());
                    </script>
<!-- End DigiCert site seal HTML and JavaScript -->
</dd>
</dl>
</div>
<div class="copyright">
            Copyright © 2011-2015 SegmentFault. 当前呈现版本 15.12.09<br/><a href="http://www.miibeian.gov.cn/" rel="nofollow">浙ICP备15005796号-2</a>
</div>
<p class="text-center">
<a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="mobile" href="javascript:;">移动版</a>
<a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="desktop" href="javascript:;">桌面版</a>
</p>
</div>
</footer>
<div class="hidden-xs hidden-sm" id="fixedTools">
<a class="hidden border-bottom" href="#" id="backtop">回顶部</a>
<div class="qrcodeWraper">
<a href="/app#qrcode"><span class="glyphicon glyphicon-qrcode"></span></a>
<img alt="sf-wechat" class="border" id="qrcode" src="http://static.segmentfault.com/v-56810165/page/img/app/appQrcode.png"/>
<p class="qrcode-text">扫扫下载 App</p>
</div>
</div>
<div class="app-promotion-bar">
<a href="javascript:;"><i class="fa fa-close close"></i></a>
<div class="icon"></div>
<h5 class="title h5">SegmentFault</h5>
<p class="describe">一起探索更多未知</p>
<a class="download-btn btn btn-sm btn-primary" href="/app#qrcode">下载 App</a>
</div>
<script id="loginModal" type="text/template">
<div class="row bg-white login-modal">
    <div class="col-md-4 col-sm-12 col-md-push-7 login-wrap">
        <h1 class="h4 text-muted login-title">用户登录</h1>
        <form action="/api/user/login" method="POST" role="form" class="mt30">
            <div class="form-group">
                <label class="control-label">Email</label>
                <input type="email" class="form-control" name="mail" required placeholder="hello@segmentfault.com">
            </div>
            <div class="form-group">
                <label class="control-label">密码</label>
                <input type="password" class="form-control" name="password" required placeholder="密码">
            </div>
            <div class="form-group clearfix">
                <div class="checkbox pull-left">
                    <label><input name="remember" type="checkbox" value="1" checked> 记住登录状态</label>
                </div>
                <button type="submit" class="btn btn-primary pull-right pl20 pr20">登录</button>
            </div>
        </form>
        <p class="h4 text-muted visible-xs-block h4">快速登录</p>
        <div class="widget-login mt30">
            <p class="text-muted mt5 mr10 pull-left hidden-xs">快速登录</p>
            <a href="/user/oauth/google" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-google"><span class="icon-sn-google"></span> <strong class="visible-xs-inline">Google 账号</strong></a>
            <a href="/user/oauth/github" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-github"><span class="icon-sn-github"></span> <strong class="visible-xs-inline">Github 账号</strong></a>
            <a href="/user/oauth/weibo" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-weibo"><span class="icon-sn-weibo"></span> <strong class="visible-xs-inline">新浪微博账号</strong></a>
            <a href="/user/oauth/qq" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-qq"><span class="icon-sn-qq"></span> <strong class="visible-xs-inline">QQ 账号</strong></a>
            <a href="/user/oauth/weixin" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-wechat"><span class="icon-sn-wechat"></span> <strong class="visible-xs-inline">微信账号</strong></a>
            <button type="button" class="btn mb5 btn-default btn-sm btn-sn-more" id="loginShowMore">...</button>
            <a href="/user/oauth/twitter" class="btn pl5 pr5 mb5 btn-default btn-sn-twitter btn-sm hidden"><span class="icon-sn-twitter"></span> <strong class="visible-xs-inline">Twitter 账号</strong></a>
            <a href="/user/oauth/facebook" class="btn pl5 pr5 mb5 btn-default btn-sn-facebook btn-sm hidden"><span class="icon-sn-facebook"></span> <strong class="visible-xs-inline">Facebook 账号</strong></a>
            <a href="/user/oauth/douban" class="btn pl5 pr5 mb5 btn-default btn-sn-douban btn-sm hidden"><span class="icon-sn-douban"></span> <strong class="visible-xs-inline">豆瓣账号</strong></a>
        </div>
    </div>
    <div class="login-vline hidden-xs hidden-sm"></div>
    <div class="col-md-4 col-md-pull-3 col-sm-12 login-wrap">
        <h1 class="h4 text-muted login-title">创建新账号</h1>
        <form action="/api/user/register" method="POST" role="form" class="mt30">
            <div class="form-group">
                <label for="name" class="control-label">用户名</label>
                <input type="text" class="form-control" name="name" required placeholder="字母、数字等，用户名唯一">
            </div>
            <div class="form-group">
                <label for="mail" class="control-label">Email</label>
                <input type="hidden" style="display:none" name="mail">
                <input type="email" autocomplete="off" class="form-control register-mail" name="mail" required placeholder="hello@segmentfault.com">
            </div>
            <div class="form-group">
                <label for="password" class="control-label">密码</label>
                <input type="password" class="form-control" name="password" required placeholder="不少于 6 位">
            </div>
            <div class="form-group" style="display:none;">
                <label class="required control-label">验证码</label>
                <input type="text" class="form-control" id="captcha" name="captcha" placeholder="请输入下方的验证码">
                <div class="mt10"><a id="loginReloadCaptcha"  href="javascript:void(0)"><img data-src="/user/captcha?w=240&h=50" class="captcha" width="240" height="50" /></a></div>
            </div>
            <div class="form-group clearfix">
                <div class="checkbox pull-left">
                    同意并接受<a href="/tos" target="_blank">《服务条款》</a>
                </div>
                <button type="submit" class="btn btn-primary pl20 pr20 pull-right">注册</button>
            </div>
        </form>
    </div>
</div>
<div class="text-center text-muted mt30">
    <a href="/user/forgot" class="ml5">找回密码</a>
</div>
</script>
<script>
    (function (w) {
        w.SF = {
            staticUrl: "http://static.segmentfault.com/v-56810165"
        };
        w.SF.token = (function () {
    var _Y6jU = //'J'
'7'+'6'//'TG'
+//'x'
'948'+'e04'//'qR1'
+//'u'
'3'+'83'//'7'
+'30'//'yel'
+'c2'//'7'
+//'GT'
'5d9'+//'x'
'419'+//'R'
'6f'+'3'//'asy'
+'6'//'56'
+/* 'F'//'F' */''+//'56F'
'f'+'ae'//'32'
+//'8eA'
'b'+/* 'mw8'//'mw8' */''+//'sev'
'dda', _Yp3Si = [];

    for (var i = 0; i < _Yp3Si.length; i ++) {
        _Y6jU = _Y6jU.substring(0, _Yp3Si[i][0]) + _Y6jU.substring(_Yp3Si[i][1]);
    }

    return _Y6jU;
})();;
    })(window);

                var lock = {
        type : "",
        text : '',
        table: {"ban_post":[1,"\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
    };
</script>
<script crossorigin="" src="http://static.segmentfault.com/v-56810165/3rd/assets.js"></script>
<script crossorigin="" src="http://static.segmentfault.com/v-56810165/qa/js/question.js"></script>
<script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-918487-8']);
    _gaq.push(['_trackPageview']);
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src   = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-918487-8', 'auto');
    ga('send', 'pageview');

</script>
<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?e23800c454aa573c0ccb16b52665ac26";
        var s  = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<script src="//cbjs.baidu.com/js/m.js"></script>
<script>
    if (typeof BAIDU_CLB_fillSlotAsync === 'function') {
                BAIDU_CLB_fillSlotAsync('981183', 'adid-981183');
                BAIDU_CLB_fillSlotAsync('981184', 'adid-981184');
                BAIDU_CLB_fillSlotAsync('981694', 'adid-981694');
                BAIDU_CLB_fillSlotAsync('981179', 'adid-981179');
                BAIDU_CLB_fillSlotAsync('1119908', 'adid-1119908');
            }
</script>
</body>
</html>
